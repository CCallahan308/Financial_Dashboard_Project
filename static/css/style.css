/* Ultra-Modern 'Glassmorphism' Dashboard CSS */

/* 1. FONT IMPORT */
@import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

/* 2. CSS VARIABLES & THEMES */
:root {
    /* Shared */
    --border-radius: 16px;
    --transition-speed: 0.4s;

    /* Light Theme */
    --bg-gradient: linear-gradient(120deg, #f5f7fa 0%, #c3cfe2 100%);
    --glass-bg: rgba(255, 255, 255, 0.6);
    --glass-border: rgba(255, 255, 255, 0.9);
    --text-color: #2c3e50;
    --heading-color: #1e293b;
    --muted-text-color: #34495e;
    --shadow-color: rgba(61, 64, 91, 0.1);
    --primary-color: #5e7ce2;
    --success-color: #10ac84;
    --danger-color: #d63031;
    --header-text: #1e293b;
}

[data-theme="dark"] {
    /* Dark Theme */
    --bg-gradient: linear-gradient(120deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
    --glass-bg: rgba(44, 62, 80, 0.6);
    --glass-border: rgba(255, 255, 255, 0.1);
    --text-color: #bdc3c7;
    --heading-color: #ecf0f1;
    --muted-text-color: #95a5a6;
    --shadow-color: rgba(0, 0, 0, 0.2);
    --primary-color: #6b89e6;
    --header-text: #ecf0f1;
}

/* 3. GENERAL STYLES */
body {
    background-image: var(--bg-gradient);
    background-attachment: fixed;
    font-family: 'Poppins', sans-serif;
    color: var(--text-color);
    transition: background-color var(--transition-speed) ease, color var(--transition-speed) ease;
}

/* 4. HEADER */
.dashboard-header {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px); /* For Safari */
    border-bottom: 1px solid var(--glass-border);
    color: var(--header-text);
    padding: 1rem 1.5rem;
    position: sticky;
    top: 0;
    z-index: 1020;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 5px 20px var(--shadow-color);
}

.dashboard-header h1 {
    font-weight: 700;
    font-size: 1.5rem;
    color: var(--heading-color);
}

/* Theme Switcher */
#theme-switcher {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    color: var(--heading-color);
}
.theme-switch { position: relative; display: inline-block; width: 50px; height: 26px; }
.theme-switch input { opacity: 0; width: 0; height: 0; }
.slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(128, 128, 128, 0.4); transition: .4s; border-radius: 34px; }
.slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 4px; bottom: 4px; background-color: white; transition: .4s; border-radius: 50%; }
input:checked + .slider { background-color: var(--primary-color); }
input:checked + .slider:before { transform: translateX(24px); }

/* 5. CARDS - The Glassmorphism Core */
.metric-card, .chart-card, .data-card {
    background: var(--glass-bg);
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    border-radius: var(--border-radius);
    box-shadow: 0 8px 32px 0 var(--shadow-color);
    transition: all var(--transition-speed) ease;
    overflow: hidden;
}

.metric-card:hover, .chart-card:hover, .data-card:hover {
    transform: translateY(-8px);
    box-shadow: 0 16px 40px 0 var(--shadow-color);
    border-color: var(--primary-color);
}

/* Metric Cards */
.metric-card { padding: 1.5rem; display: flex; align-items: center; gap: 1.25rem; }
.metric-icon { width: 50px; height: 50px; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 1.25rem; }
.metric-content h6 { color: var(--muted-text-color); font-size: 0.8rem; font-weight: 500; text-transform: uppercase; }
.metric-content h3 { color: var(--heading-color); font-size: 2rem; font-weight: 700; }

/* Chart & Data Cards */
.chart-header, .data-header {
    padding: 1rem 1.5rem;
    border-bottom: 1px solid var(--glass-border);
    background: transparent; /* Remove inner header background */
}
.chart-title, .data-title { color: var(--heading-color); font-size: 1.1rem; font-weight: 600; }
.chart-container { padding: 1rem; height: 350px; }

/* News & Economic Data */
.news-container, .economic-container { padding: 0.5rem; overflow-y: auto; max-height: 450px; }
.news-item, .economic-item { padding: 1rem; border-bottom: 1px solid var(--glass-border); }
.news-item:last-child, .economic-item:last-child { border-bottom: none; }
.news-title a { color: var(--heading-color); text-decoration: none; font-weight: 600; }
.news-title a:hover { color: var(--primary-color); }
.news-source { background: var(--primary-color); color: white; padding: 0.25rem 0.5rem; border-radius: 6px; font-size: 0.7rem; font-weight: 500; }

/* 6. UTILITIES & PLOTLY */
.bg-primary { background-color: var(--primary-color) !important; }
.bg-success { background-color: var(--success-color) !important; }
.bg-danger { background-color: var(--danger-color) !important; }

/* Plotly Dark Theme Integration */
[data-theme="dark"] .chart-container {
    /* This is a placeholder. Plotly charts need JS updates for full dark theme. */
    border-radius: var(--border-radius);
}

/* Custom Scrollbar */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--glass-border); border-radius: 4px; }
::-webkit-scrollbar-thumb:hover { background: var(--muted-text-color); }